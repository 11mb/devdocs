<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Update installation dependencies</title>
	<meta name="description" content="Magento 2 Developer's Guide">

	<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,700,600,300,800' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="/css/app.css" />
	<link rel="canonical" href="//guides/v2.0/install-gde/install/prepare-install.html">

	<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

</head>
<body>

<!--Search Results Overlay -->
<div class="searchResultsBack"></div>
<div id="searchResultsBox">
	<div class="searchResultsBoxClose">Close [x]<!-- <img src="/common/images/close.png" alt="Close"> --></div>
	<gcse:search></gcse:search>
	<!-- <gcse:searchresults-only></gcse:searchresults-only> -->
</div>
<!--End Search Results Overlay -->

<header class="site-header">

	<nav role="navigation">

		<div class="menu-btn">
			<a class="menu-trigger menu-icon" href="#"></a>
		</div>

		<div id="global-nav">
			<div class="main-site-name">
				<a class="logo pull-left" href="/"> </a>
				<div class="sub-site-name">
					<a href="/">Developer Documentation (2.0)</a>
				</div>
			</div>
		</div><!-- #global-nav -->
	</nav>

	<div class="search-btn">
		<a class="search-trigger search-icon" href="#"></a>
	</div>

</header>

<!--Sub Navigation-->
<div id="subnav-wrap" class="nav-main">
   <div id="subnav">
      <ul class="menu nav">
         <li class="first">
            <a href="#">Get Started</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.0/release-notes/bk-release-notes.html">Release Notes</a></li>
               <li class="leaf"><a href="/guides/v2.0/architecture/bk-architecture.html">Magento Architecture</a></li>
            </ul>
         </li>
         <li class="first">
            <a href="#">System Administrator</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.0/install-gde/bk-install-guide.html">Installation Guide</a></li>
               <li class="leaf"><a href="/guides/v2.0/comp-mgr/bk-compman-upgrade-guide.html">Component Manager and System Upgrade Guide</a></li>
               <li class="leaf"><a href="/guides/v2.0/config-guide/bk-config-guide.html">Configuration Guide</a></li>
               <li class="leaf"><a href="/guides/v2.0/migration/bk-migration-guide.html">Migration Guide</a></li>
            </ul>
         </li>
         <li class="first">
            <a href="#">Developers</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.0/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a>
               <li class="first leaf"><a href="/guides/v2.0/ui-components/ui-component.html">UI Components</a>
   			   <li class="first leaf"><a href="/guides/v2.0/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a>
               <div class="divider"></div></li>
               <li class="first leaf"><a href="/guides/v2.0/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li>

               <li class="leaf"><a href="/guides/v2.0/mtf/mtf_introduction.html">Magento Testing Framework Guide</a></li>
               <li class="leaf"><a href="/guides/v2.0/pattern-library/bk-pattern.html">Magento Admin Pattern Library</a></li>
               <div class="divider"></div></li>
               <li class="leaf"><a href="/guides/v2.0/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li>
               <li class="leaf"><a href="/guides/v2.0/rest/bk-rest.html">REST Reference</a></li>
               <li class="leaf"><a href="/guides/v2.0/soap/bk-soap.html">SOAP Reference</a>
               <div class="divider"></div></li>
               <li class="leaf"><a href="/guides/v2.0/coding-standards/bk-coding-standards.html">Coding Standards</a></li>
            </ul>
         </li>

         <li class="first">
            <a href="#">Contributor</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.0/contributor-guide/contributing.html">Contributor Guide</a></li>
            </ul>
         </li>
         <li class="first">
            <a href="/guides/v2.0/howdoi/bk-how-do-i.html">How Do I...?</a>
         </li>
      </ul>

      <div class ="search">
         <div class="search-icon"></div>
         <form id="searchbox" name="gs" method="GET" action="#searchResultsBox">
            <input type="hidden" name="cx" value="018116925022773002786:klu67apuihk" />
            <input type="hidden" name="ie" value="UTF-8" />
            <input type="text" name="q" id="searchtext" value="" placeholder="Search">
         </form>
      </div><!-- END searchbox-->

      <a href="#" class="nav-close">&times;</a>

   </div> <!--End subnav -->
</div><!--End subnav-wrap -->
<div class="nav-main-fader"></div>


<div id="gl-wrapper">

	<!-- /.main-container -->
	<div id="gl-container" class="main-container">
		<a id="main-content"></a>
		<div class="pane-content">
			<div class="node node-panel">


<!-- page-header -->
<section class="page-intro">
	<div class="container">
		<h1 class="page-heading">Update installation dependencies</h1>
			
			<a class="improve-page" href="https://github.com/magento/devdocs/tree/develop/guides/v2.0/install-gde/install/prepare-install.md" target="_blank">Edit this page on GitHub</a>
		
		
	</div>
</section>

<div class="container">

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" class="toc-toggler">Table of Contents</a>
	<div class="sidebar-wrapper">


<h4>Installation guide<br>Part 1: Getting started</h4>






		<ul role="navigation">

		

		

				

			

				

			

				

			

				

			

				

			

				

					
					

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/install-gde/install-quick-ref.html">Installation quick reference (tutorial)</a></li>
									
								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/install-gde/install-roadmap_part1.html">Installation roadmap (reference)</a></li>
									
								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/install-gde/system-requirements.html">Magento system requirements</a></li>
									
								

									


								
								
								
							
							
						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/install-gde/prereq/prereq-overview.html">Prerequisites</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/install-gde/prereq/apache.html">Apache</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/install-gde/prereq/apache-user.html">Create the Magento file system owner</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/install-gde/prereq/php-centos.html">PHP 5.5 or 5.6&mdash;CentOS</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/install-gde/prereq/php-ubuntu.html">PHP 5.5 or 5.6&mdash;Ubuntu</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/install-gde/prereq/mysql.html">MySQL</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/install-gde/prereq/prereq_updater.html">Set up the updater</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/install-gde/prereq/connect-auth.html">Get your authentication keys</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/install-gde/prereq/install-rabbitmq.html">RabbitMQ (Enterprise Edition)</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/install-gde/prereq/mysql_remote.html">Set up a remote MySQL database connection</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/install-gde/prereq/security.html">SELinux and iptables</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/install-gde/prereq/optional.html">Optional software</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/install-gde/prereq/file-system-perms.html">Set file system ownership and permissions</a></li>

									

								
								
								
							
							
						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/install-gde/install/get-software.html">Get the Magento software</a></li>
									
								

									


								
								
								
							
							
						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/install-gde/prereq/zip_install.html">(Easy) Install the Magento archive on your server</a></li>
									
								

									


								
								
								
							
							
						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/install-gde/prereq/integrator_install.html">(Integrator) Get the Composer metapackage</a></li>
									
								

									


								
								
								
							
							
						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/install-gde/prereq/dev_install.html">(Contributor) Clone the Magento repository</a></li>
									
								

									


								

									

									<li class="level-2  active "><a href="/guides/v2.0/install-gde/install/prepare-install.html">Update installation dependencies</a></li>

									

								
								
								
							
							
						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/install-gde/install/get-help.html">Get help with your installation</a></li>
									
								

									


								
								
								
							
							
						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/install-gde/continue-to-install.html">Next&mdash;Installation part 2, installing</a></li>
									
								

									


								
								
								
							
							
						

					


				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

		</ul>

	</div>
</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">

		<h4 id="contents">Contents</h4>

<ul>
  <li><a href="#install-update-depend">Introduction to Magento installation dependencies</a></li>
  <li><a href="#install-composer-install">Run <code>composer install</code> to update dependencies</a></li>
  <li><a href="#instgde-prereq-compose-access">Set file system ownership and permissions</a></li>
</ul>

<h2 id="install-update-depend">Introduction to Magento installation dependencies</h2>
<p>We now use <a href="http://getcomposer.org">Composer</a> to resolve dependencies before you install the Magento software and extensions.</p>

<p>Composer is a separate application that manages PHP dependencies. Before you can install the Magento software, you must perform the following tasks in the order shown:</p>

<ol>
  <li><a href="/guides/v2.0/install-gde/prereq/dev_install.html">Install the Composer software</a>.</li>
  <li><a href="/guides/v2.0/install-gde/prereq/apache-user.html">Create the Magento file system owner</a> so Composer writes files to the web server docroot as the correct user.</li>
  <li>
    <p>Run the <a href="#install-composer-install"><code>composer install</code> command</a> from your Magento root directory (for example, <code>/var/www/magento2/</code>).</p>

    <p>The Magento root directory is a subdirectory of your web server’s docroot. Need help locating the docroot? Click <a href="/guides/v2.0/install-gde/basics/basics_docroot.html">here</a>.</p>

    <div class="bs-callout bs-callout-info" id="info">
  		<p>If the following error displays, see <a href="/guides/v2.0/install-gde/trouble/tshoot_composer-fail.html">troubleshooting</a>:</p>
  		<pre>file_get_contents(app/etc/NonComposerComponentRegistration.php): failed to open stream: No such file or directory</pre>
</div>
  </li>
</ol>

<p>For you to be able to run the Magento application, make sure you perform all tasks as a user with privileges to write to the web server docroot. One way to do this is to log in as or switch to the <a href="/guides/v2.0/install-gde/prereq/apache-user.html#install-update-depend-user-switch">switch to the Magento file system owner</a>.</p>

<h2 id="install-composer-install">Run <code>composer install</code> to update dependencies</h2>
<p>Update installation dependencies as follows:</p>

<ol>
  <li>Log in to your Magento server as the Magento file system owner or <a href="/guides/v2.0/install-gde/prereq/apache-user.html">switch to that user</a>.</li>
  <li>
    <p>Change to the Magento installation directory and run <code>composer install</code>. Examples:</p>

    <p>CentOS:</p>

    <pre><code>cd /var/www/html/magento2 &amp;&amp; composer install
</code></pre>

    <p>Ubuntu:</p>

    <pre><code>cd /var/www/magento2 &amp;&amp; composer install
</code></pre>

    <p>This command updates package dependencies and can take a few minutes to complete.</p>

    <p>The following error might display:</p>

    <pre><code>[Composer\Downloader\TransportException]
    The "https://repo.magento.com/archives/magento/composer/magento-composer-1.0.2.0.zip" file could not be downloaded (HTTP/1.1 404 Not Found)
</code></pre>

    <p>If so, create <a href="/guides/v2.0/install-gde/prereq/dev_install.html#instgde-prereq-compose-clone-auth"><code>auth.json</code></a> in the Magento file system owner’s <code>&lt;home&gt;/.composer</code> directory and run <code>composer install</code> again.</p>
  </li>
</ol>

<h2 id="instgde-prereq-compose-access">Set file system ownership and permissions</h2>
<p>The following sections discuss how to set file system ownership and permissions:</p>

<ul>
  <li><a href="#install-perms-import">Why we recommend you set file system permissions</a></li>
  <li><a href="#install-perms-set">File system permissions and ownership</a></li>
</ul>

<h3 id="install-perms-import">Why we recommend you set file system permissions</h3>
<p>Malicious exploits are an unfortunate reality in the internet age. To help prevent exploits that take advantage of the file system, we recommend you set Magento file system ownership and permissions in a particular way. For more information, see <a href="/guides/v2.0/install-gde/prereq/apache-user.html#install-update-depend-user-over">Overview of ownership and permissions</a>.</p>

<div class="bs-callout bs-callout-info" id="info">
  <p>This topic covers permissions for a development environment. In production, the web server user should have limited write privileges. To help manage you production and developer modes, we provide the <code><a href="/guides/v2.0/config-guide/cli/config-cli-subcommands-mode.html">magento deploy:mode:set</a></code> command.</p>
</div>

<p>The important things:</p>
<ul><li>The owner of the Magento file system:
<ul><li>Must have full control (read/write/execute) of all files and directories.</li>
<li>Must <em>not</em> be the web server user; it should be a different user.</li></ul>
</li>
<li>The web server user must have write access to the following files and directories:
<ul><li><code>var</code></li>
<li><code>app/etc</code></li>
<li><code>pub</code></li></ul>
</li>
</ul>
<p>In addition, the web server's <em>group</em> must own the Magento file system so that the Magento user (who is in the group) can share access to files with the web server user. (This includes files created by the Magento Admin or other web-based utilities.)</p>
<p>We recommend setting the permissions as follows:</p>
<ul><li>All directories have 770 permissions.<br />
770 permissions give full control (that is, read/write/execute) to the owner and to the group and no permissions to anyone else.</li>
<li>All files have 660 permissions.<br />
660 permissions mean the owner and the group can read and write but other users have no permissions.</li></ul>

<h3 id="install-perms-set">File system permissions and ownership</h3>
<p>Use the following steps:</p>
<ol><li>Change to the Magento installation directory:<br />
	<pre>cd &lt;web server docroot&gt;/&lt;magento2 base dir&gt;</pre>
	The base directory is typically a subdirectory named <code>magento2</code> under your web server's docroot. Need help locating the docroot? Click <a href="/guides/v2.0/install-gde/basics/basics_docroot.html">here</a>.<br />

	Examples:
	<ul><li>Ubuntu: <code>/var/www/magento2</code></li>
	<li>CentOS: <code>/var/www/html/magento2</code></li></ul>
</li>
<li>Set ownership:<br />
<pre>chown -R :&lt;your web server group name&gt; .</pre>
Typical examples:<br /><br />
CentOS: <code>chown -R :apache .</code><br />
Ubuntu: <code>chown -R :www-data .</code></li>
<li>Set permissions:<br />
	<pre>find . -type d -exec chmod 770 {} \; &amp;&amp; find . -type f -exec chmod 660 {} \; &amp;&amp; chmod u+x bin/magento</pre>
	If you must enter the commands as <code>sudo</code>, use:<br />
	<pre>sudo find . -type d -exec chmod 770 {} \; &amp;&amp; sudo find . -type f -exec chmod 660 {} \; &amp;&amp; sudo chmod u+x bin/magento</pre></li></ol>

<h4 id="next-step">Next step</h4>
<p>Install the Magento software:</p>

<ul>
  <li><a href="/guides/v2.0/install-gde/install/cli/install-cli.html">Command line</a></li>
  <li><a href="/guides/v2.0/install-gde/install/web/install-web.html">Setup Wizard</a></li>
</ul>


		</div>
	</section>
<!-- /main content -->


</div> <!-- container -->


		</div>
		</div>
	</div>


</div>
<!-- -->
<!--Global footer-->
<div id="footer-wrap">
<div class="footer">
    <div id="magento-com">
        <div class="intro-paragraph">
            <div class="container">
                <a href="http://www.magento.com/"><img src="/i/magento_logo_footer.svg" alt="Magento an ebay inc company" /></a>
                <h3>eCommerce platform, solutions and services<br /> to help grow your business.</h3>
            </div>
        </div>
        <div class="container">
            <div id="f-col-1">
                <h4>Learn more</h4>
                <ul class="nav" style="margin-bottom: 40px;">
                    <li><a href="http://magento.com/company/about-us" title="Company">Company</a></li>
                    <li><a href="http://magento.com/company/careers" title="Careers">Careers</a></li>
                    <li><a href="http://magento.com/company/press-room" title="Press Room">Press Room</a></li>
                </ul>
            </div>
            <div id="f-col-2">
                <div id="social-network">
                    <h4>Find us on</h4>
                    <ul>
                        <li><a class="btn-facebook" target="_blank" href="http://www.facebook.com/magento">Magento Facebook</a>
                        </li>
                        <li><a class="btn-twitter" target="_blank" href="https://twitter.com/magento">Magento Twitter</a></li>
                        <li><a class="btn-lnkdn" target="_blank" href="http://www.linkedin.com/groups?home=&amp;gid=146360&amp;trk=anet_ug_hm">Magento Linkedin</a></li>
                        <li><a class="btn-gplus" target="_blank" href="https://plus.google.com/+magento/posts">Magento Google+</a></li>
                        <li><a class="btn-youtube" target="_blank" href="http://www.youtube.com/user/magentocommerce/featured">Magento
                            Youtube</a></li>
                    </ul>
                </div>
            </div>
            <div id="f-col-3">
                <div id="newsletter">
                    <h4>GET THE LATEST NEWS</h4>
                    <p>See Magento in the news, find press<br/> releases and resources for media.</p>
                    <div class="hold-form">
                        <div id="nws-notsubscribed">
                            <div id="sb-email" class="sb-email">
                                <form method="post" enctype="application/x-www-form-urlencoded"
                                      action="//info2.magento.com/index.php/leadCapture/save" id="mktForm_1182" class="mktform"
                                      name="mktForm_1182" onsubmit="return validateForm();">
                                    <input class="fValidate['email'] input-topbg sb-email-input" name="Email" id="Email"
                                           placeholder="Email Address">
                                    <input type="hidden" name="formid" value="1182" />
                                    <button type="submit" class="sb-icon-submit btn outline">
                                        Submit
                                    </button>
          <span class="sb-icon-email btn outline">
              Sign Up
          </span>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="email-invalid hide">
                        <p>Please submit a valid email.</p>
                    </div>
                    <div class="email-ty hide">
                        <p>Thank you for submitting your email.</p>
                    </div>
                </div>
            </div>
            <div id="f-col-4">
                <div class="contact-us">
                    <h4>Get in touch</h4>
                    <p>We'd like to hear from you! Call us, <br />send us an email or talk to sales.</p>
                    <a href="http://magento.com/company/contact-us" class="btn btn-outline">Contact Us</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="copyright">
    <div class="container">
        <div class="copyright-links">
            <ul class="nav">
                <li><a title="Privacy Policy" href="http://magento.com/legal/terms/privacy">Privacy Policy</a></li>
                <li><a title="Terms of Service" href="http://magento.com/legal/terms">Terms of Service</a></li>
                <li><a title="License/Trademark FAQ" href="http://magento.com/legal/licensing">License/Trademark FAQ</a></li>
            </ul>
        </div>
        <div class="copyright-date">&copy; 2016 Magento, Inc. All rights reserved.</div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="/common/js/jsCookie.js"></script>
<script src="/common/js/devdocs.js"></script>

<script type="text/javascript">
    (function() {
        var didInit = false;
        function initMunchkin() {
            if(didInit === false) {
                didInit = true;
                Munchkin.init('318-XBX-392', {cookieAnon: false});
            }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                initMunchkin();
            }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>

<script src="/js/app-min.js"></script>


<!--Google Custom Search-->
<script>
  (function() {
    var cx = '018116925022773002786:klu67apuihk';
    var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
  })();
</script>


<!--Google Analytics-->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-66243208-1', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>

