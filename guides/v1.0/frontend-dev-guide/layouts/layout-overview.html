<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Layouts</title>
	<meta name="description" content="Magento 2 Developer's Guide">

	<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,700,600,300,800' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="/css/app.css" />
	<link rel="stylesheet" href="/common/css/override.css" />
	<link rel="canonical" href="//guides/v1.0/frontend-dev-guide/layouts/layout-overview.html">

</head>	
<body>

<header id="nav-main" class="nav-main">

	<!--Top Navigation-->
	<nav role="navigation">
		<div class="menu-btn">
			<a class="menu-trigger menu-icon" href="#"></a>
		</div>
			
		<div id="global-nav">
			<div class="main-site-name">
				<a class="logo pull-left" href="/"> </a>
				<div class="sub-site-name">
					<a href="/"><span>Developer Documentation</span></a>
				</div>
			</div>
			
			<div class="right-header">
				<!--
				<div class="sales-login">
					<ul class="menu nav">
						<li class="first last leaf"><a href="https://www.magentocommerce.com/products/customer/account/login">My Account</a></li>
					</ul>
				</div>
				
				
				<div class="head-search" id="head-search">
					<div id="sb-search" class="sb-search">
						<form action="http://www.magentocommerce.com/search/results/">
							<span class="sb-icon-search btn btn-search"></span>
							<input name="q" class="sb-search-input" placeholder="Search docs" type="search" style="display: none;" id="search" />
							<span class="sb-search-submit btn btn-search"></span>
						</form>
					</div>
				</div><!-- #head-search --> 
				
			</div>
			
		</div><!-- #global-nav -->
	</nav>

	﻿<!--Sub Navigation-->
<div id="subnav-wrap">
<div id="subnav">
<ul class="menu nav">
               <!--
<li class="first expanded">
<a href="/guides/v1.0/release-notes/bk-release-notes.html">Get Started</a>
<ul class="menu nav">
<li class="first leaf"><a href="/guides/v1.0/release-notes/bk-release-notes.html">Release Notes</a></li>
<!~~ <li class="leaf"><a href="/guides/v1.0/architecture/bk-architecture.html">Magento Architecture</a></li> ~~>
</ul>
</li>
-->
                  <li class="first expanded">
                    <a href="/guides/v1.0/install-gde/bk-install-guide.html">System Administrator</a>
                     <ul class="menu nav">
                        <li class="first leaf"><a href="/guides/v1.0/install-gde/bk-install-guide.html">Installation Guide</a></li>
                       <!-- <li class="leaf"><a href="/guides/v1.0/config-guide/bk-config-guide.html"">Configuration and Integration Guide</a></li> -->
                     </ul>
                  </li>
                   <li class="expanded">
                     <a href="/guides/v1.0//frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer</a>
                     <ul class="menu nav">
                        <li class="first leaf"><a href="/guides/v1.0/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a></li>
                        <li class="leaf"><a href="/guides/v1.0/coding-standards/bk-coding-standards.html">Coding Standards</a></li>
                     </ul>
                  </li>
                  <!--
<li class="first expanded">
<a href="article-side.html">System Integrator</a>
<ul class="menu nav">
<li class="first leaf"><a href="/guides/v1.0/config-guide/bk-config-guide.html"">Configuration and Integration Guide</a></li>
</ul>
</li>
-->
                  <li class="expanded">
                    <a href="/guides/v1.0/architecture/arch_whatis.html">Extension Developer</a>
                     <ul class="menu nav">
                     <li class="first leaf"><a href="/guides/v1.0/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li>
                        <li class="leaf"><a href="/guides/v1.0/architecture/arch_whatis.html">Developer Guide</a></li>
                        <li class="leaf"><a href="/guides/v1.0/coding-standards/bk-coding-standards.html">Coding Standards</a></li>
                        <!--
<li class="leaf"><a href="/article-side.html">PHP API Reference</a></li>
<li class="leaf"><a href="/article-side.html">REST API Reference</a></li>
-->
                        <!-- <li class="leaf"><a href="/article-side.html">SOAP API Reference</a></li> -->
                     </ul>
                  </li>

               </ul>

</div>
</div>

	
</header>	


<div id="gl-wrapper">
	
	<!-- #sidemenu -->
	<div id="sidemenu" style="display:none;">
		<a class="menu-trigger menu-close" href="#" title=""></a>
		<div class="h8 site-title">Our Sites</div>
		<ul class="menu nav">
			<li class="first leaf"><a href="http://magento.com/" title="Magento&#039;s Corporate Site" class="active">Magento</a><span class="description">Magento's Corporate Site</span></li>
			<li class="leaf"><a href="http://enterprise.magento.com" title="Enterprise-Class Platform">Enterprise Edition</a><span class="description">Enterprise-Class Platform</span></li>
			<li class="leaf"><a href="http://go.magento.com/" title="Small Business Storefront">Magento Go</a><span class="description">Small Business Storefront</span></li>
			<li class="leaf"><a href="http://www.magentocommerce.com/magento-connect/" title="Extensions Marketplace">Connect</a><span class="description">Extensions Marketplace</span></li>
			<li class="leaf"><a href="http://magento.com/resources/technical" title="Resources for Developers">Developers</a><span class="description">Resources for Developers</span></li>
			<li class="leaf"><a href="http://magento.com/partners/overview" title="Resources for Partners">Partners</a><span class="description">Resources for Partners</span></li>
			<li class="leaf"><a href="http://magento.com/training/overview" title="Courses and Developer Certification">Training</a><span class="description">Courses and Developer Certification</span></li>
			<li class="last leaf"><a href="http://imagine2015.magento.com/" title="Annual Conference">Imagine</a><span class="description">Annual Conference</span></li>
		</ul>
	</div>
	<!-- /#sidemenu -->
	
	<!-- /.main-container -->
	<div id="gl-container" class="main-container">
		<a id="main-content"></a>
		<div class="pane-content">
			<div class="node node-panel">






<!-- page-header -->
<section class="page-intro">
	<div class="container">
		<h1 class="page-heading">Layouts</h1>
			
			<a class="improve-page" href="http://github.com/magento/devdocs/blob/master/frontend-dev-guide/layouts/layout-overview.md" target="_blank">Help us improve this page</a>
		
	</div>
</section>

<div class="container">
	<section class="content">
		<div class="content-wrap">
		
		<p>Magento implements the <a href="http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller" target="_blank">Model-view-controller</a> architecture pattern; meaning, the Magento software is architected into <em>layers</em>, including the <em>view layer</em>.</p>

<h2>Layout structure</h2>

<p>The major part of the view layer of Magento application is layout. Functionally, layout is a page structure, represented by hierarchy of elements (element tree), which can be of two types: blocks and containers. Technically, layout is defined in the .xml files, which contain element declarations and element manipulation instructions.</p>

<p>So what a layout file does is identify an existing block or container in a tree and change it in some way. Changes are to add some more content (e.g. there might be a side bar container to which some more content is added), or remove content (an extension might remove some core functionality, then add replacement functionality). Layouts are like wire-frames - they control the structure of the page tree. Blocks and PHTML files fill in the detailed markup within the tree.</p>

<p>TBD: how layout is processed</p>

<p>Layout files include:</p>

<ul>
  <li>
    <p>Page layout: declares high-level page structure using only containers and operation with them: move, remove, update, referenceContainer.</p>
  </li>
  <li>
    <p>Page configuration: “fills” the containers defined in a layout file by the particular functionality using blocks.</p>
  </li>
  <li>
    <p>Generic layouts: a variation of page configuration used for pages loaded by AJAX requests.</p>
  </li>
</ul>

<p>For the sake of stability and easy maintenance, do not edit the out-of-the-box Magento module and theme layouts. Create a custom theme instead, where you can extend or override module and parent theme layouts.</p>

<p>To customize the layout, add layout overrides or extensions in your theme.</p>

<h2 id="layout_overview_blocks">Basic layout elements</h2>

<p>The basic components of Magento page design are blocks and containers. Simply put, containers contain blocks, other containers, and other layout elements.</p>

<p>A <em>container</em> exists for the sole purpose of assigning content structure to a page. A container has no additional content except the content of included elements. Examples of containers include the header, left column, main column, and footer.</p>

<p>The following figure shows an example:</p>

<p><img src="/common/images/layouts_containers_defn.jpg" alt="A container is basically an empty object that can be filled with visual content." /></p>

<p>A <em>block</em> produces the actual content inside each structural block. A block represents each feature on a page and employs templates to generate the HTML to inserted into its parent structural block. Examples of blocks include a category list, a mini cart, product tags, and product listing.</p>

<p>The following figure shows an example:</p>

<p><img src="/common/images/layouts_block_defn.jpg" alt="A *block* produces the actual content inside each structural block." />.</p>

<h2>Main concepts</h2>
<p>Before you start to work on your theme, you must understand the following terms:</p>

<p><em>Theme</em></p>

<p>Any combination of layout, template, locale, and styles that create the visual experience of your storefront.</p>

<p><em>Theme inheritance</em>
TBD</p>

<u> Layout file types: by role </u>

<p><em>Page layout</em></p>

<p>An XML file declaring high-level page structure, for example, two-column page layout. Page layouts and contains only containers and operation with them.</p>

<p>For details, refer to Layout File Types. <!-- ADDLINK --></p>

<p><em>Page configuration</em></p>

<p>An XML file defining the low level page structure: containers and blocks declarations and  manipulation instructions.</p>

<p>For details, refer to Layout File Types. <!-- ADDLINK --></p>

<p><em>Generic layout</em></p>

<p>An XML layout file defining the low level structure for pages opened by AJAX requests.</p>

<p>For details, refer to Layout File Types. <!-- ADDLINK --></p>

<p><em>Layout instruction</em>
TBD</p>

<p><span id="handle"><em>Layout handle</em> </span></p>

<p>A uniquely identified set of layout instructions that the Magento application uses to determine what to do with the updates nested by it.</p>

<p>Layout handles include:</p>

<ul>
  <li>Page type layout handles: Synonyms of the page type identifiers. Corresponds to “full action names” of controller actions; for example, <code>catalog_product_view</code></li>
  <li>Page layout handles: Identifies specific pages. Correspond to controller actions with parameters that identify specific pages; for example, <code>catalog_product_view_type_simple_id_128</code></li>
  <li>Arbitrary handles: Does not correspond to any page type, but other handles use them by inclusion.</li>
</ul>

<p>&lt;p class=q&gt;To reviewer: is it true about handle?&lt;/p&gt;</p>

<u> Layout file types: by location </u>

<p><em>Base layout</em></p>

<p>Layout files provided by modules. Conventional location: <code>app/code/&lt;Vendor&gt;/&lt;Module&gt;/view/</code></p>

<!--
Default layout

:	Layout provided by Magento, extension provider, or in-house developer. A default layout defines the default look and feel of the storefront. Unlike earlier versions of Magento, you should not change the default layout directly and you do not have to copy the default layout to start developing a custom layout.

Instead, you override layout behavior by modifying only the page elements you want to change.

-->

<p><em>Theme layout</em></p>

<p>Layout files provided by themes. Conventional location:<code> app/design/frontend/&lt;theme_path&gt;/&lt;Vendor&gt;_&lt;Module&gt;</code></p>

<u>By type of customization</u>

<p><em>Extending layout</em></p>

<p>You can provide additional instructions for the existing layout files layout files in addition to existing files. In these layout files you need to add layout instructions which Magento will merge with existing layouts. Layout instructions that are left unchanged are not duplicated.</p>

<p><em>Overriding layout</em></p>

<p>A layout to be used instead a certain base or theme layout.</p>

<h2 id="layout_conventions">Layout file conventions</h2>

<p>To be processed correctly, all layout files must meet the following requirements:</p>

<ul>
  <li>A single layout file always declares a single layout handle and defines layout instructions for that layout handle.</li>
  <li>The layout file name defines the name of the layout handle.</li>
  <li>
    <p>The layout file is located according to convention (<code>app/code/&lt;VendorName&gt;/&lt;ModuleName&gt;/view/frontend/layout</code>); for example:</p>

    <p><a href="https://github.com/magento/magento2/blob/master/app/code/Magento/Checkout/view/frontend/layout/checkout_cart_index.xml" target="_blank">Sample layout file</a></p>
  </li>
</ul>

<p><code>checkout_cart_index.xml</code> defines several handles, including <code>checkout_cart_item_renderers</code>.</p>

<p>Magento automatically detects layout files located according to convention.</p>

<h2 id="layout_processing">Layout file processing</h2>

<p>For more information about how Magento processes layout files, see the following sections:</p>

<ul>
  <li><a href="#layout_processing_ordering">Ordering Layout Files</a></li>
  <li><a href="#layout_processing_how">How the Magento Software Processes Layouts</a></li>
  <li><a href="#layout_process_ex">Example of Layout Processing</a></li>
</ul>

<h3 id="layout_processing_ordering">Precedence of layout files</h3>

<p>Magento processes layout files in the following precedence order:</p>

<ul>
  <li>Files from different modules:
    <ul>
      <li>By module dependencies, that is, dependent module after modules on which it depends</li>
      <li>Alphabetically by module names, if module dependencies are not defined</li>
    </ul>
  </li>
  <li>Files in the same module load alphabetically by file name</li>
</ul>

<h3 id="layout_processing_how">Layout process flow</h3>

<p>The Magento software:</p>

<ol>
  <li>Collects all default layouts from modules. The order is determined by module dependencies and by alphabetical order of module names.</li>
  <li>Determines the sequence of inherited themes <code>[&lt;parent_theme&gt;, ..., &lt;parent1_theme&gt;] &lt;current_theme&gt;</code></li>
  <li>
    <p>Iterates the sequence of themes:</p>

    <p>a.	Adds all extending theme layouts to the list.</p>

    <p>b.	Replaces overridden default layouts.</p>

    <p>c. For all themes except the parent theme, replaces overridden theme layouts.</p>
  </li>
  <li>Extends layout files from the list. For details about layout extensions, see <a href="/guides/v1.0/frontend-dev-guide/layouts/layout-extend.html">Extend a layout</a>.</li>
</ol>

<div class="bs-callout bs-callout-info" id="info">
  <p>Layout files that belong to inactive modules or modules with disabled output are ignored.</p>
</div>

<h3 id="layout_process_ex">Layout processing example</h3>

<p>Following is an illustration of how layout processing works for two modules and two themes:</p>

<p><img src="/common/images/layout_processing_dev.png" alt="When Magento processes themes, it overrides layout 1 in module 1 because of a theme override. Layout 1 of the parent theme is also overridden the same way." /></p>

<h4 id="related-topics">Related topics:</h4>

<ul>
  <li><a href="/guides/v1.0/frontend-dev-guide/layouts/containers-blocks.html">Containers and blocks</a></li>
  <li><a href="/guides/v1.0/frontend-dev-guide/css-topics/theme-ui-lib.html">Magento UI library</a></li>
  <li><a href="/guides/v1.0/frontend-dev-guide/layouts/xml-instructions.html">XML instructions</a></li>
  <li><a href="/guides/v1.0/frontend-dev-guide/layouts/xml-manage.html">XML instructions</a></li>
  <li><a href="/guides/v1.0/frontend-dev-guide/layouts/layout-extend.html">Extend a layout</a></li>
  <li><a href="/guides/v1.0/frontend-dev-guide/layouts/layout-override.html">Override a layout</a></li>
  <li><a href="/guides/v1.0/architecture/behavior/xlate.html">Translation</a></li>
</ul>



		</div>
	</section>
<!-- /main content -->

<!-- sidebar -->
<aside class="sidebar">
	<div class="sidebar-wrapper">

		<ul role="navigation">
		
		
		
		
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
		
		</ul>

	</div>
</aside>
<!-- /sidebar -->

</div> <!-- container -->


		</div>
		</div>
	</div>


</div>
<!-- -->


<!-- #footer-wrap -->
<div id="footer-wrap">
<footer class="footer container">
	<div class="row-fluid">
		<div class="span3 footer-menu" id="magento-sites">
		<h4>OUR SITES</h4>
		<ul class="menu nav">
			<li class="first leaf"><a href="http://magento.com/" title="Magento&#039;s Corporate Site" class="active">Magento</a><span class="description">Magento's Corporate Site</span></li>
			<li class="leaf"><a href="http://enterprise.magento.com" title="Enterprise-Class Platform">Enterprise Edition</a><span class="description">Enterprise-Class Platform</span></li>
			<li class="leaf"><a href="http://go.magento.com/" title="Small Business Storefront">Magento Go</a><span class="description">Small Business Storefront</span></li>
			<li class="leaf"><a href="http://www.magentocommerce.com/magento-connect/" title="Extensions Marketplace">Connect</a><span class="description">Extensions Marketplace</span></li>
			<li class="leaf"><a href="http://magento.com/resources/technical" title="Resources for Developers">Developers</a><span class="description">Resources for Developers</span></li>
			<li class="leaf"><a href="http://magento.com/partners/overview" title="Resources for Partners">Partners</a><span class="description">Resources for Partners</span></li>
			<li class="leaf"><a href="http://magento.com/training/overview" title="Courses and Developer Certification">Training</a><span class="description">Courses and Developer Certification</span></li>
			<li class="last leaf"><a href="http://imagine2015.magento.com/" title="Annual Conference">Imagine</a><span class="description">Annual Conference</span></li>
		</ul>
	</div>

	<div class="span8 offset1" id="magento-com">
		<div class="intro-paragraph">
              <a href="http://magento.com/"><img src="/i/logo-gl-footer.png" id="logo" alt="Magento an ebay inc company"></a>
              <h3>eCommerce platform, solutions and services<br /> to help grow your business.</h3>
          </div>
          <div class="row-fluid">
            <div class="span3">
              <h4>LEARN MORE</h4>
              <ul class="menu nav"><li class="first leaf"><a href="http://magento.com/company/overview" title="">Company</a></li><li class="leaf"><a href="http://magento.com/company/careers" title="">Careers</a></li><li class="leaf"><a href="http://www.magentocommerce.com/company/press-releases" title="">Press Room</a></li><li class="last leaf"><a href="http://magento.com/sitemap" title="">Site Map</a></li></ul>              <div id="social-network">
                <h4>Connect</h4>
                <ul>
                  <li><a href="http://www.facebook.com/magento" target="_blank" class="btn-facebook">Magento Facebook</a></li>
                  <li><a href="https://twitter.com/magento" target="_blank" class="btn-twitter">Magento Twitter</a></li>
                  <li><a href="http://www.youtube.com/user/magentocommerce/featured" target="_blank" class="btn-youtube">Magento Youtube</a></li>
                  <li><a href="http://www.linkedin.com/groups?home=&amp;gid=146360&amp;trk=anet_ug_hm" target="_blank" class="btn-lnkdn">Magento Linkedin</a></li>
                </ul>
              </div>
            </div>
            <div class="span7 offset2">
              <div class="contact-us">
                <h4>Get in touch</h4>
                <p>We'd like to hear from you! Call us,<br /> send us an email or talk to sales.</p>
                <a href="http://www.magentocommerce.com/company/contact-us/" class="btn outline">Contact Us</a>
              </div>
                            <div id="newsletter">
                <h4>GET THE LATEST NEWS</h4>
                <p>See Magento in the news, find press releases<br /> and resources for media.</p>
                <div class="hold-form">
                <div id="nws-notsubscribed">
                    <div id="sb-email" class="sb-email">
                        <form method="post" enctype="application/x-www-form-urlencoded" action="http://info.magento.com/index.php/leadCapture/save" id="mktForm_1006" class="mktform" name="mktForm_1006" onsubmit="return validateForm();" >
                            <input class="fValidate['email'] input-topbg sb-email-input" name="Email" id="Email" placeholder="Email Address" />
                            <button type="submit" class="sb-icon-submit btn outline">
                                Submit
                            </button>
                            <span class="sb-icon-email btn outline">
                                Sign Up
                            </span>
                            <span style="display:none;"><input type="text" name="_marketo_comments" value="" /></span><input type="hidden" name="lpId" value="-1" /><input type="hidden" name="subId" value="36" /><input type="hidden" name="kw" value="" /><input type="hidden" name="cr" value="" /><input type="hidden" name="searchstr" value="" /><input type="hidden" name="lpurl" value="http://na-j.marketo.com/lp/magentocommerce/CustomerNewsletterSubscription.html?cr={creative}&kw={keyword}" /><input type="hidden" name="formid" value="1006" /><input type="hidden" name="returnURL" value="magento.com/" /><input type="hidden" name="retURL" value="magento.com/" /><input type="hidden" name="_mkt_disp" value="return" /><input type="hidden" name="_mkt_trk" value="" />
                        </form>
                    </div>
                </div>
                </div>
              </div>
              <div class="clearfix"></div>
              <div class="email-invalid hide">
                <p>Please submit a valid email.</p>
              </div>
              <div class="email-ty hide">
                <p>Thank you for submitting your email.</p>
              </div>
            </div>
          </div>
      </div>
    </div>
  </footer>
  <div id="copyright">
    <div class="container">
      <div class="pull-right"><ul class="menu nav"><li class="first leaf"><a href="http://magento.com/legal/terms/privacy" title="">Privacy Policy</a></li><li class="leaf"><a href="http://magento.com/legal/terms" title="">Terms of service</a></li><li class="last leaf"><a href="http://www.magentocommerce.com/license/" title="">License/Trademark FAQ</a></li></ul></div>
      <span class="pull-left">&copy; 2014 Magento, Inc. All rights reserved.</span>
    </div>
  </div>
</div>
<!-- /#footer-wrap -->


<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

<!-- Magento.com scripts -->
<script src="/js/js_IkgOrrVZK1UTp2HktvFi5vo1g7b25Muyr5GoySikuic.js"></script>
<script src="/js/js_m-zV5Ek4Owkee3MVRMcqkTW8aki0DvIJIFma7yS1xM0.js"></script>
<script src="/js/js_Z5NZormFXt4exRfF6jg2O0wNC5okceOt7B3Hn2hqoFc.js"></script>
<script src="/js/js_O6lYvuZQJUPSnK699QFEAm_UI3AJznTbKmq3JNA4Z-M.js"></script>
<!--<script src="/js/js_xPIm45Yu7K82fSuatvdEsOmXU71DqQGS-vh5dkLvpro.js"></script>-->


<!-- Docs scripts (just in case) -->
<script src="/js/app-min.js"></script>


</body>
</html>