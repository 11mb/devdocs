<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Service building basics</title>
	<meta name="description" content="Magento 2 Developer's Guide">

	<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,700,600,300,800' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="/css/app.css" />
	<link rel="stylesheet" href="/common/css/override.css" />
	<link rel="canonical" href="//guides/v1.0/extension-dev-guide/service-contracts/add-later/service-build.html">

</head>	
<body>

<header id="nav-main" class="nav-main">

	<!--Top Navigation-->
	<nav role="navigation">
		<!-- <div class="menu-btn">
			<a class="menu-trigger menu-icon" href="#"></a>
		</div> -->
			
		<div id="global-nav">
			<div class="main-site-name">
				<a class="logo pull-left" href="/"> </a>
				<div class="sub-site-name">
					<a href="/"><span>Developer Documentation</span></a>
				</div>
			</div>
			
			<div class="right-header">
				<!--
				<div class="sales-login">
					<ul class="menu nav">
						<li class="first last leaf"><a href="https://www.magentocommerce.com/products/customer/account/login">My Account</a></li>
					</ul>
				</div>
				
				
				<div class="head-search" id="head-search">
					<div id="sb-search" class="sb-search">
						<form action="http://www.magentocommerce.com/search/results/">
							<span class="sb-icon-search btn btn-search"></span>
							<input name="q" class="sb-search-input" placeholder="Search docs" type="search" style="display: none;" id="search" />
							<span class="sb-search-submit btn btn-search"></span>
						</form>
					</div>
				</div><!-- #head-search --> 
				
			</div>
			
		</div><!-- #global-nav -->
	</nav>

	<!--Sub Navigation-->
<div id="subnav-wrap">
   <div id="subnav">
      <ul class="menu nav">
         <li class="first expanded">
            <a href="/guides/v1.0/bk-get-started-magento.html">Get Started</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v1.0/release-notes/bk-release-notes.html">Release Notes</a></li>
               <li class="leaf"><a href="/guides/v1.0/architecture/bk-architecture.html">Magento Architecture</a></li>
            </ul>
         </li>
         <li class="first expanded">
            <a href="/guides/v1.0/install-gde/bk-install-guide.html">System Administrator</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v1.0/install-gde/bk-install-guide.html">Installation Guide</a></li>
               <li class="leaf"><a href="/guides/v1.0/config-guide/bk-config-guide.html">Configuration Guide</a></li>
               <li class="leaf"><a href="/guides/v1.0/migration/bk-migration-guide.html">Migration Guide</a></li>
            </ul>
         </li>
         <li class="first expanded">
            <a href="/guides/v1.0/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v1.0/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a></li>
               <li class="leaf"><a href="/guides/v1.0/coding-standards/bk-coding-standards.html">Coding Standards</a></li>
            </ul>
         </li>
         <li class="expanded">
            <a href="/guides/v1.0/extension-dev-guide/bk-extension-dev-guide.html">Extension Developer</a>
            <ul class="menu nav">
               
               <li class="first leaf"><a href="/guides/v1.0/extension-dev-guide/bk-extension-dev-guide.html">Extension Developer Guide</a></li>
               <li class="leaf"><a href="/guides/v1.0/pattern-library/bk-pattern.html">Magento Admin Pattern Library</a></li>
               <li class="leaf"><a href="/guides/v1.0/coding-standards/bk-coding-standards.html">Coding Standards</a></li>
            </ul>
         </li>
    
    
          <li class="expanded">
            <a href="/guides/v1.0/get-started/bk-get-started-api.html">Web Services Developer</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v1.0/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li>
               <li class="leaf"><a href="/guides/v1.0/rest/bk-rest.html">REST Reference</a></li>
               <li class="leaf"><a href="/guides/v1.0/soap/bk-soap.html">SOAP Reference</a></li>

            </ul>
         </li>   
    
         
         
         
         
         <li class="first expanded">
            <a href="/guides/v1.0/contributor-guide/contributing.html">Contributor</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v1.0/contributor-guide/contributing.html">Contributor Guide</a></li>
            </ul>
         </li>
      </ul>
   </div>
</div>
	
</header>	


<div id="gl-wrapper">
	
	<!-- #sidemenu -->
	<div id="sidemenu" style="display:none;">
		<a class="menu-trigger menu-close" href="#" title=""></a>
		<div class="h8 site-title">Our Sites</div>
		<ul class="menu nav">
			<li class="first leaf"><a href="http://magento.com/" title="Magento&#039;s Corporate Site" class="active">Magento</a><span class="description">Magento's Corporate Site</span></li>
			<li class="leaf"><a href="http://enterprise.magento.com" title="Enterprise-Class Platform">Enterprise Edition</a><span class="description">Enterprise-Class Platform</span></li>
			<li class="leaf"><a href="http://go.magento.com/" title="Small Business Storefront">Magento Go</a><span class="description">Small Business Storefront</span></li>
			<li class="leaf"><a href="http://www.magentocommerce.com/magento-connect/" title="Extensions Marketplace">Connect</a><span class="description">Extensions Marketplace</span></li>
			<li class="leaf"><a href="http://magento.com/resources/technical" title="Resources for Developers">Developers</a><span class="description">Resources for Developers</span></li>
			<li class="leaf"><a href="http://magento.com/partners/overview" title="Resources for Partners">Partners</a><span class="description">Resources for Partners</span></li>
			<li class="leaf"><a href="http://magento.com/training/overview" title="Courses and Developer Certification">Training</a><span class="description">Courses and Developer Certification</span></li>
			<li class="last leaf"><a href="http://imagine2015.magento.com/" title="Annual Conference">Imagine</a><span class="description">Annual Conference</span></li>
		</ul>
	</div>
	<!-- /#sidemenu -->
	
	<!-- /.main-container -->
	<div id="gl-container" class="main-container">
		<a id="main-content"></a>
		<div class="pane-content">
			<div class="node node-panel">






<!-- page-header -->
<section class="page-intro">
	<div class="container">
		<h1 class="page-heading">Service building basics</h1>
		
	</div>
</section>

<div class="container">
	<section class="content">
		<div class="content-wrap">
		
		<p>A <em>service interface</em> is basically a contract between code that uses the service and an integration that implements the service. The service is PHP code—typically one or more interfaces, classes, and methods.</p>

<p>The code that uses a service should depend on the interface rather than on the service implementation. Doing so enables you to use a different implementation if needed.</p>

<h2 id="terms-used">Terms Used</h2>

<p>Terminology frequently used in this guide:</p>

<ul>
  <li>Module: The PHP code that defines your application’s business logic. The module code must be in subdirectories of <code>&lt;your Magento install dir&gt;/app/code/&lt;ModuleName&gt;</code>.</li>
  <li>Integration: Code that enables a third-party application to get authorized access to Magento resources using either SOAP or REST calls. The merchant who activates the integration (which might be a module or extension) must agree to allow the integration to access those resources.</li>
  <li>Extension: A tested module that is marketed to other merchants on Magento Connect. (<em>Not currently available</em>.)</li>
</ul>

<p>One extension can contain multiple modules.</p>

<p>One module can expose zero or more services. (In other words, <em>module</em> is a more generic term than <em>service</em>. A module doesn’t have to expose a service at all.)</p>

<h2 id="about-the-service-interface">About the Service Interface</h2>

<p>Some important characteristics of a service interface:</p>

<ul>
  <li>
    <p>The methods must be annotated to describe the types of input that are used to generate contracts for the Web API framework.</p>

    <p>Input arguments can be scalar types, arrays or objects. If objects are used, they should be implemented as <a href="#about-service-data-objects">service data objects</a>.</p>
  </li>
  <li>
    <p>The methods must be annotated to describe the types of the output that are used to generate contracts for Web API framework.</p>

    <p>Output arguments must be scalar types, arrays or service data objects. Objects should be implemented as <a href="#about-service-data-objects">service data objects</a>.</p>
  </li>
  <li>
    <p>Every interface should be versioned and numbered like V1, V2, and so on.</p>
  </li>
  <li>
    <p>The namespace should use the version number as a suffix. (For example, <code>Magento\Customer\Service\V1</code>).</p>
  </li>
  <li>
    <p>You <em>cannot</em> use aliases in services interfaces or in service data objects because doing so causes WSDL generation to fail.</p>
  </li>
</ul>

<p>To see an example of a Customer service interface, see <a href="https://github.com/magento/magento2/blob/develop/app/code/Magento/Customer/Service/V1/CustomerAccountServiceInterface.php" target="_blank">app/code/Magento/Customer/Service/V1/CustomerAccountServiceInterface.php</a>.</p>

<h2 id="exposing-a-service-as-a-rest-or-soap-api">Exposing a Service as a REST or SOAP API</h2>

<p>To expose a service as a REST or SOAP API, you must:</p>

<ol>
  <li>
    <p>Create a <code>&lt;your Magento install dir&gt;/app/code/&lt;ModuleName&gt;/etc/webapi.xml</code> that defines a route URL, HTTP methods supported, and the Magento resources the method must access.</p>

    <p>Sample:</p>

    <p><code>php
&lt;route url="/V1/customerAccounts/isEmailAvailable" method="PUT"&gt;
    &lt;service class="Magento\Customer\Service\V1\CustomerAccountServiceInterface" method="isEmailAvailable"/&gt;
    &lt;resources&gt;
        &lt;resource ref="Magento_Customer::manage"/&gt;
    &lt;/resources&gt;
&lt;/route&gt;
</code></p>

    <p>(<a href="https://github.com/magento/magento2/blob/develop/app/code/Magento/Customer/etc/webapi.xml" target="_blank">Source</a>)</p>
  </li>
  <li>
    <p>Create a service data object that defines any data required to pass between the service and its clients. See the next section.</p>
  </li>
</ol>

<h2 id="about-service-data-objects">About Service Data Objects</h2>

<p>A <em>service data object</em> carries data to and from service methods. Service data objects differ from <em>business objects</em> or <em>data access objects</em> in that a service data object stores and retrieves only its own data.</p>

<p>Service data objects define the interface that can be used by PHP clients to understand what data is available from the service. The service data object carries data from the service’s response to PHP clients and, in the same way, PHP clients use service data objects to pass data to the service or to exchange data with other clients.</p>

<p>Service data objects are:</p>

<ul>
  <li>
    <p>Simple objects that should not contain any business logic (in other words, service data objects contain no code that requires testing).</p>
  </li>
  <li>
    <p>Immutable; they have only getters and no business logic.</p>
  </li>
  <li>
    <p>Constructed using a data object builder. Data is set on the service data objects by the service or by client code.</p>

    <p>If data is set in client code, service data objects can be returned to the client to use the data or the data can be passed to the service to consume the data.</p>
  </li>
  <li>
    <p>Located in a namespace that reflects the version of service data (same as the service itself). For example, <code>Magento\Customer\Service\V1\Data</code></p>
  </li>
</ul>

<h3 id="implementing-a-service-data-object">Implementing a Service Data Object</h3>

<p>General rules for implementing a service data object:</p>

<ul>
  <li>The service data object class must reside in the <code>[module namespace]\Service\Data\V[xx]</code> namespace.</li>
  <li>A service data object must have getters that clearly describe all data that the data object can contain.</li>
  <li>Annotations in the code must clearly describe the parameters and outputs of all methods.</li>
  <li>Getters should rely on the <code>_get</code> method provided for convenience in the <a href="https://github.com/magento/magento2/blob/develop/lib/internal/Magento/Framework/Service/Data/AbstractObject.php" target="_blank"><code>\Magento\Framework\Service\Data\AbstractObject</code></a> class.</li>
  <li>A service data object should extend <a href="https://github.com/magento/magento2/blob/develop/lib/internal/Magento/Framework/Service/Data/AbstractObjectBuilder.php" target="_blank"><code>\Magento\Framework\Service\Data\AbstractObjectBuilder</code></a> or any of its children.</li>
  <li>Setters should rely on the <code>_set</code> method provided for convenience in the <a href="https://github.com/magento/magento2/blob/develop/lib/internal/Magento/Framework/Service/Data/AbstractObjectBuilder.php" target="_blank"><code>\Magento\Framework\Service\Data\AbstractObjectBuilder</code></a> class.</li>
</ul>

<h3 id="sample-service-data-object">Sample Service Data Object</h3>

<p>Here is a sample service data object:</p>

<script src="https://gist.github.com/xcomSteveJohnson/6193ba94d58b7ee3b7c7.js"></script>

<h3 id="sample-data-object-builder">Sample Data Object Builder</h3>

<p>Here is a sample data object builder on which the preceding service data object is constructed:</p>

<script src="https://gist.github.com/xcomSteveJohnson/f7ccaf017ea745b895ec.js"></script>

<p>Note the following:</p>

<ul>
  <li>
    <p>A data object builder should be used to construct the service data object.</p>
  </li>
  <li>
    <p>Setters should rely on the method <code>_set</code> provided for convenience in the <code>\Magento\Framework\Service\Data\AbstractObjectBuilder</code> class.</p>
  </li>
</ul>

<h4 id="related-topics">Related topics:</h4>

<ul>
  <li><a href="/guides/v1.0/extension-dev-guide/service-contracts/service-contracts.html">Service contracts</a></li>
</ul>

<!--
*	<a href="/guides/v1.0/extension-dev-guide/service-contracts/add-later/service-how-to-use.html">How a Client Uses a Service</a>

*	<a href="/guides/v1.0/extension-dev-guide/service-contracts/add-later/svcs-props.html">Service design</a>

*	<a href="/guides/v1.0/extension-dev-guide/service-contracts/add-later/what-is-webapi.html">What Is the Web API Framework?</a>

*	<a href="/guides/v1.0/config-guide/integration/cg-authorization.html">Authorizing Web API Requests</a>
 -->


		</div>
	</section>
<!-- /main content -->

<!-- sidebar -->
<aside class="sidebar">
	<div class="sidebar-wrapper">

		<ul role="navigation">
		
		
		
		
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
				
				
			
			
		
		</ul>

	</div>
</aside>
<!-- /sidebar -->

</div> <!-- container -->


		</div>
		</div>
	</div>


</div>
<!-- -->


<!-- #footer-wrap -->
<div id="footer-wrap">
<footer class="footer container">
	<div class="row-fluid">
		<div class="span3 footer-menu" id="magento-sites">
		<h4>OUR SITES</h4>
		<ul class="menu nav">
			<li class="first leaf"><a href="http://magento.com/" title="Magento&#039;s Corporate Site" class="active">Magento</a><span class="description">Magento's Corporate Site</span></li>
			<li class="leaf"><a href="http://enterprise.magento.com" title="Enterprise-Class Platform">Enterprise Edition</a><span class="description">Enterprise-Class Platform</span></li>
			<li class="leaf"><a href="http://www.magentocommerce.com/magento-connect/" title="Extensions Marketplace">Connect</a><span class="description">Extensions Marketplace</span></li>
			<li class="leaf"><a href="http://magento.com/resources/technical" title="Resources for Developers">Developers</a><span class="description">Resources for Developers</span></li>
			<li class="leaf"><a href="http://magento.com/partners/overview" title="Resources for Partners">Partners</a><span class="description">Resources for Partners</span></li>
			<li class="leaf"><a href="http://magento.com/training/overview" title="Courses and Developer Certification">Training</a><span class="description">Courses and Developer Certification</span></li>
			<li class="last leaf"><a href="http://imagine2015.magento.com/" title="Annual Conference">Imagine</a><span class="description">Annual Conference</span></li>
		</ul>
	</div>

	<div class="span8 offset1" id="magento-com">
		<div class="intro-paragraph">
              <a href="http://magento.com/"><img src="/i/logo-gl-footer.png" id="logo" alt="Magento an ebay inc company"></a>
              <h3>eCommerce platform, solutions and services<br /> to help grow your business.</h3>
          </div>
          <div class="row-fluid">
            <div class="span3">
              <h4>LEARN MORE</h4>
              <ul class="menu nav"><li class="first leaf"><a href="http://magento.com/company/overview" title="">Company</a></li><li class="leaf"><a href="http://magento.com/company/careers" title="">Careers</a></li><li class="leaf"><a href="http://www.magentocommerce.com/company/press-releases" title="">Press Room</a></li><li class="last leaf"><a href="http://magento.com/sitemap" title="">Site Map</a></li></ul>              <div id="social-network">
                <h4>Connect</h4>
                <ul>
                  <li><a href="http://www.facebook.com/magento" target="_blank" class="btn-facebook">Magento Facebook</a></li>
                  <li><a href="https://twitter.com/magento" target="_blank" class="btn-twitter">Magento Twitter</a></li>
                  <li><a href="http://www.youtube.com/user/magentocommerce/featured" target="_blank" class="btn-youtube">Magento Youtube</a></li>
                  <li><a href="http://www.linkedin.com/groups?home=&amp;gid=146360&amp;trk=anet_ug_hm" target="_blank" class="btn-lnkdn">Magento Linkedin</a></li>
                </ul> 
              </div>
            </div>
            <div class="span7 offset2">
              <div class="contact-us">
                <h4>Get in touch</h4>
                <p>We'd like to hear from you! Call us,<br /> send us an email or talk to sales.</p>
                <a href="http://www.magentocommerce.com/company/contact-us/" class="btn outline">Contact Us</a>
              </div>
                            <div id="newsletter">
                <h4>GET THE LATEST NEWS</h4>
                <p>See Magento in the news, find press releases<br /> and resources for media.</p>
                <div class="hold-form">
                <div id="nws-notsubscribed">
                    <div id="sb-email" class="sb-email">
                        <form method="post" enctype="application/x-www-form-urlencoded" action="http://info2.magento.com/index.php/leadCapture/save" id="mktForm_1182" class="mktform" name="mktForm_1182">
                            <input class="fValidate['email'] input-topbg sb-email-input" name="Email" id="Email" placeholder="Email Address" />
                            <button type="submit" class="sb-icon-submit btn outline" onclick="return validationEmail(jQuery('form #Email').val());">
                                Submit
                            </button>
                            <span class="sb-icon-email btn outline">
                                Sign Up
                            </span>
                            <span style="display:none;">
                              <input type="text" name="_marketo_comments" value="" />
                            </span><input type="hidden" name="lpId" value="-1" />
                            <input type="hidden" name="subId" value="36" />
                            <input type="hidden" name="kw" value="" />
                            <input type="hidden" name="cr" value="" />
                            <input type="hidden" name="searchstr" value="" />
                            <input type="hidden" name="lpurl" value="https://info2.magento.com/lp/magentoenterprise/CustomerNewsletterSubscription.html?cr={creative}&kw={keyword}">
                            <input type="hidden" name="formid" value="1182" />
                            <input type="hidden" name="returnURL" value="http://devdocs.magento.com/guides/v1.0/extension-dev-guide/service-contracts/add-later/service-build.html" />
                            <input type="hidden" name="retURL" value="http://devdocs.magento.com/guides/v1.0/extension-dev-guide/service-contracts/add-later/service-build.html" />
                            <input type="hidden" name="_mkt_disp" value="return" />
                            <input type="hidden" name="_mkt_trk" value="" />
                        </form>
                    </div>
                </div>
                </div>
              </div>
              <div class="clearfix"></div>
              <div class="email-invalid hide">
                <p>Please submit a valid email.</p>
              </div>
              <div class="email-ty hide">
                <p>Thank you for submitting your email.</p>
              </div>
            </div>
          </div>
      </div>
    </div>
  </footer>
  <div id="copyright">
    <div class="container">
      <div class="pull-right"><ul class="menu nav"><li class="first leaf"><a href="http://magento.com/legal/terms/privacy" title="">Privacy Policy</a></li><li class="leaf"><a href="http://magento.com/legal/terms" title="">Terms of service</a></li><li class="last leaf"><a href="http://magento.com/legal/licensing" title="">License/Trademark FAQ</a></li></ul></div>
      <span class="pull-left">&copy; 2015 Magento, Inc. All rights reserved.</span>
    </div>
  </div>
</div>
<!-- /#footer-wrap -->


<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

<script src="/js/classie.js"></script>
<script src="/js/uislideform.js"></script>
<script type="text/javascript">
  new UISlideform(document.getElementById('sb-email'), 'email');
  
  (function($) {
    window.validationEmail = function(email) {
      $('#Emailemail_msg').fadeOut('slow');
      var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
      if (!emailReg.test(email)) {
        $('.email-invalid').fadeIn('slow');
      }
      else if (email == '' || typeof email == 'undefined') {
        $('.email-invalid').fadeIn('slow');
      }
      else {
        $('.email-invalid').fadeOut('slow');
        $('#mktForm_1182').submit();
      }
      return false;
    }
  })(jQuery);

  (function() {
    var didInit = false;
    function initMunchkin() {
      if(didInit === false) {
        didInit = true;
        Munchkin.init('318-XBX-392', {cookieAnon: false});
      }
    }
    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.async = true;
    s.src = '//munchkin.marketo.net/munchkin.js';
    s.onreadystatechange = function() {
      if (this.readyState == 'complete' || this.readyState == 'loaded') {
        initMunchkin();
      }
    };
    s.onload = initMunchkin;
    document.getElementsByTagName('head')[0].appendChild(s);
  })();
</script>

<!-- Docs scripts (just in case) -->
<script src="/js/app-min.js"></script>


</body>
</html>